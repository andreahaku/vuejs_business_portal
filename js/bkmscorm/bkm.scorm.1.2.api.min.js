function LMSInitialize(e){if(AppendToLog("bkm.scorm.1.2.api event log",""),AppendToLog("--------------------------------------------------------------------------",""),AppendToLog("LMSInitialize","Param = "+e),result="false",_terminatedState)return setCurrentErrorCode("CONTENT_INSTANCE_TERMINATED"),AppendToLog("LMSInitialize","return = "+result),result;if(_terminatedState=!1,_terminateCalled=!1,_scoVer2=!1,_initializedState)setCurrentErrorCode("ALREADY_INITIALIZED");else if(_debugApiCallsOnly)AppendToLog("LMSInitialize","_debugApiCallsOnly = "+_debugApiCallsOnly),LMSSetDefaultDomElementValues(),result="true";else if(setParameterError(e),_currentErrorCode==NO_ERROR)if(result=xmlhttpRequest("initialize",""),_currentErrorCode==NO_ERROR){if("false"==result)setLmsLastError();else if(LMSSetDefaultDomElementValues(),"true"!=result){if(LMSSetDomElementValues(result),-1!=result.indexOf("cmi.core.entry=resume")){var r=xmlhttpRequest("getsuspenddata","");if(AppendToLog("Get Suspend Data ",r),_currentErrorCode==NO_ERROR){""!=r&&setCacheValue("cmi.suspend_data",r);var t=xmlhttpRequest("getlocation","");if(AppendToLog("Get Location ",t),_currentErrorCode==NO_ERROR&&("null"!=t&&setCacheValue("cmi.core.lesson_location",t),_currentErrorCode==NO_ERROR&&(null!=r&&""!=r||null!=t&&""!=t)&&(result=xmlhttpRequest("getcompletionstatus",""),AppendToLog("Get Completion Status ",result),_currentErrorCode==NO_ERROR))){setCacheValue("cmi.completion_status",result);var n=result;result=xmlhttpRequest("getsuccessstatus",""),AppendToLog("Get Success Status ",result),_currentErrorCode==NO_ERROR&&("null"!=result?(setCacheValue("cmi.success_status",result),setCacheValue("cmi.core.lesson_status",result)):setCacheValue("cmi.core.lesson_status",n))}}}result="true"}}else result="false";return"true"==result&&(_initializedState=!0,keepAliveStart()),AppendToLog("LMSInitialize","return = "+result),result}function LMSGetValue(e){return AppendToLog("LMSGetValue","Params: iDomElement = "+e),result="",setCurrentErrorCode("NO_ERROR"),_terminatedState&&setCurrentErrorCode("GET_AFTER_TERMINATE"),isInitialized()||_currentErrorCode!=NO_ERROR||setCurrentErrorCode("GET_BEFORE_INIT"),""!=e&&"undefined"!=typeof e&&null!=e||_currentErrorCode!=NO_ERROR||setCurrentErrorCode("GENERAL_ARGUMENT_ERROR"),isLmsWriteOnlyDomElement(e)&&_currentErrorCode==NO_ERROR&&setCurrentErrorCode("DATA_MODEL_VALUE_IS_WRITEONLY"),"cmi._version"==e&&(result=_cmiversion),"cmi.interactions._count"==e&&_currentErrorCode==NO_ERROR&&(_interactionCount++,result=""+_interactionCount),""==result&&_currentErrorCode==NO_ERROR&&(0==e.indexOf("cmi.")?(cacheVal=getCacheValue(e),null!=cacheVal&&"undefined"!=cacheVal?result=cacheVal:setCurrentErrorCode("DATA_MODEL_VALUE_NOT_INITIALIZED")):setCurrentErrorCode("UNDEF_DATA_MODEL_ELEMENT")),AppendToLog("LMSGetValue","iDomElement = "+e+", return = "+result),result}function LMSSetValue(e,r){if(AppendToLog("LMSSetValue","Params: iDomElement = "+e+", iValue = "+r),result="false",setCurrentErrorCode("NO_ERROR"),_terminatedState&&setCurrentErrorCode("SET_AFTER_TERMINATE"),isInitialized()||_currentErrorCode!=NO_ERROR||setCurrentErrorCode("SET_BEFORE_INIT"),""!=e&&"undefined"!=typeof e&&null!=e||_currentErrorCode!=NO_ERROR||setCurrentErrorCode("GENERAL_ARGUMENT_ERROR"),isLmsReadOnlyDomElement(e)&&_currentErrorCode==NO_ERROR&&setCurrentErrorCode("DATA_MODEL_VALUE_IS_READONLY"),"cmi.core.lesson_status"==e&&_currentErrorCode==NO_ERROR){var t=r;"completed"!=t&&"incomplete"!=t&&(t="unknow"),setCacheValue("cmi.completion_status",t),t=r,"passed"!=t&&"failed"!=t&&(t="unknow"),setCacheValue("cmi.success_status",t)}return _currentErrorCode==NO_ERROR&&(setCacheValue(e,r),result="true"),AppendToLog("LMSSetValue","iDomElement = "+e+" = "+r+", return = "+result),result}function LMSCommit(e){return AppendToLog("LMSCommit","Param = "+e),result="false",setCurrentErrorCode("NO_ERROR"),_terminatedState&&setCurrentErrorCode("COMMIT_AFTER_TERMINATE"),isInitialized()||setCurrentErrorCode("COMMIT_BEFORE_INIT"),setParameterError(e),_currentErrorCode==NO_ERROR&&(result=sendLmsData()),AppendToLog("LMSCommit","return = "+result),"true"}function LMSFinish(e){return AppendToLog("LMSFinish","Param = "+e),_terminateCalled=!0,result="false",setCurrentErrorCode("NO_ERROR"),_terminatedState&&setCurrentErrorCode("TERMINATE_AFTER_TERMINATE"),isInitialized()||setCurrentErrorCode("TERMINATE_BEFORE_INIT"),setParameterError(e),_currentErrorCode==NO_ERROR&&(_terminatedState=!0,_initializedState=!1,keepAliveStop(),"true"==getCacheValue("bkm.force.commitOnFinish")&&(result=sendLmsData()),window.parent.parent._logContentObj||sendCommand("finish"),result="true"),AppendToLog("LMSFinish","return = "+result),_terminatedState=!1,result}function LMSGetLastError(){return AppendToLog("LMSGetLastError","return = "+_currentErrorCode),setCurrentErrorCode("NO_ERROR"),_currentErrorCode+""}function LMSGetErrorString(e){return AppendToLog("LMSGetErrorString","iErrCode = "+e),result="",setCurrentErrorCode("NO_ERROR"),""==e||null==e||"undefined"==typeof e?(setCurrentErrorCode("GEN_ARGUMENT_ERROR"),AppendToLog("LMSGetErrorString","return = "+result),result):("undefined"!=typeof getErrorDefString(e)&&(result=getErrorDefString(e).substr(0,255)),AppendToLog("LMSGetErrorString","return = "+result),result)}function LMSGetDiagnostic(e){return AppendToLog("LMSGetDiagnostic","iDiagnosticFeatures = "+e),setCurrentErrorCode("NO_ERROR"),""}function LMSSetDefaultDomElementValues(){AppendToLog("LMSSetDefaultDomElementValues","called"),setCacheValue("cmi.core.student_id",_learnerId,DME_READ_ONLY),setCacheValue("cmi.core.student_name",_learnerName,DME_READ_ONLY),setCacheValue("cmi.core._children","student_id,student_name,lesson_location,credit,lesson_status,entry,score,lesson_mode,exit,session_time",!0),setCacheValue("cmi.core.lesson_location",""),setCacheValue("cmi.core.credit","credit",DME_READ_ONLY),setCacheValue("cmi.core.lesson_status","not attempted"),setCacheValue("cmi.core.entry","ab-initio",DME_READ_ONLY),setCacheValue("cmi.core.score._children","raw,min,max",DME_READ_ONLY),setCacheValue("cmi.core.score.raw","0"),setCacheValue("cmi.core.score.max","100"),setCacheValue("cmi.core.score.min","0"),setCacheValue("cmi.core.lesson_mode","normal",DME_READ_ONLY),addLmsWriteOnlyDomElementName("cmi.core.exit"),addLmsWriteOnlyDomElementName("cmi.core.session_time"),setCacheValue("cmi.suspend_data",""),setCacheValue("cmi.launch_data","",DME_READ_ONLY),setCacheValue("cmi.comments",""),setCacheValue("cmi.comments_from_lms","",DME_READ_ONLY),setCacheValue("cmi.objectives._children","id,score,status",DME_READ_ONLY),setCacheValue("cmi.objectives._count","0",DME_READ_ONLY),setCacheValue("cmi.student_data._children","mastery_score",DME_READ_ONLY),setCacheValue("cmi.student_data.mastery_score","",DME_READ_ONLY),setCacheValue("cmi.student_preference._children","",DME_READ_ONLY),setCacheValue("cmi.interactions._children",_interactionProperties_1_2,DME_READ_ONLY),setCacheValue("cmi.interactions._count","0",DME_READ_ONLY),setCacheValue("bkm.force.commitOnFinish","false",DME_READ_ONLY),setCacheValue("cmi.interactions","")}var API=this,_interactionProperties_1_2="id,objectives,time,type,correct_responses.0.pattern,weighting,student_response,result,latency,text";